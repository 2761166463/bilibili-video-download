/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{i as e}from"./main-1ad2265a.js";import{i as s}from"./ipcRenderer-5e19eaee.js";import{s as i}from"./store2-3c7f06c6.js";import{_ as t,o as a,b as o,i as n,a as l,w as d,l as r,m as c,s as u,U as p,g as m,p as f,h,B as g,I as _,n as v,C as k,u as C}from"./index-824bee01.js";const j=[{content:"【下载】目录",id:"downloads"},{content:"【图片】目录",id:"pictures"},{content:"【文档】目录",id:"documents"},{content:"【音乐】目录",id:"music"}],x={data:()=>({file_list:j,action_url:"",image_info:[],num:0,servicAddress:"",dir_path:"D:\\www\\ee"}),mounted(){this.getHost()},methods:{getHost(){s.invoke(e.checkHttpServer,{}).then((s=>{if(s.enable){this.servicAddress=s.server,i.set("httpServiceConfig",s);const t=s.server||"http://localhost:7071";let a=e.uploadFile.split(".").join("/");this.action_url=t+"/"+a}}))},openDirectry(i){s.invoke(e.openDirectory,{id:i}).then((e=>{}))},selectDir(){s.invoke(e.selectFolder,"").then((e=>{this.dir_path=e,this.$message.info(e)}))},messageShow(){s.invoke(e.messageShow,"").then((e=>{this.$message.info(e)}))},messageShowConfirm(){s.invoke(e.messageShowConfirm,"").then((e=>{this.$message.info(e)}))},handleFileChange(e){if(""==this.action_url)return void this.$message.error("http服务未开启");const s=e.file.status;if("done"===s){const s=e.file.response;if("success"!==s.code)return this.$message.error(`file upload failed ${s.code} .`),!1;this.num++;const i=s.data;i.id=this.num,i.imageUrlText="image url",this.image_info.push(i),this.$message.success(`${e.file.name} file uploaded successfully.`)}else"error"===s&&this.$message.error(`${e.file.name} file upload failed.`)}}},b=e=>(f("data-v-75a92c30"),e=e(),h(),e),w={id:"app-base-file"},$=b((()=>n("div",{class:"one-block-1"},[n("span",null," 1. 系统原生对话框 ")],-1))),S={class:"one-block-2"},y=b((()=>n("div",{class:"one-block-1"},[n("span",null," 2. 选择保存目录 ")],-1))),D={class:"one-block-2"},F=b((()=>n("div",{class:"one-block-1"},[n("span",null," 3. 打开文件夹 ")],-1))),A={class:"one-block-2"},H=b((()=>n("div",{class:"one-block-1"},[n("span",null," 4. 上传文件到图床 ")],-1))),I={class:"one-block-2"},U=b((()=>n("p",{class:"ant-upload-drag-icon"},null,-1))),V=b((()=>n("p",{class:"ant-upload-text"}," 点击 或 拖拽文件到这里 ",-1))),B=b((()=>n("p",{class:"ant-upload-hint"}," 注意：请使用您自己的图床token ",-1))),z=b((()=>n("div",{class:"footer"},null,-1)));const R=t(x,[["render",function(e,s,i,t,f,h){const j=g,x=r,b=_,R=v,T=c,q=k,E=C,G=u,J=p;return a(),o("div",w,[$,n("div",S,[l(x,null,{default:d((()=>[l(j,{onClick:s[0]||(s[0]=e=>h.messageShow())},{default:d((()=>[m("消息提示(ipc)")])),_:1}),l(j,{onClick:s[1]||(s[1]=e=>h.messageShowConfirm())},{default:d((()=>[m("消息提示与确认(ipc)")])),_:1})])),_:1})]),y,n("div",D,[l(T,null,{default:d((()=>[l(R,{span:12},{default:d((()=>[l(b,{modelValue:f.dir_path,"onUpdate:modelValue":s[2]||(s[2]=e=>f.dir_path=e),value:f.dir_path,"addon-before":"保存目录"},null,8,["modelValue","value"])])),_:1}),l(R,{span:12},{default:d((()=>[l(j,{onClick:h.selectDir},{default:d((()=>[m(" 修改目录 ")])),_:1},8,["onClick"])])),_:1})])),_:1})]),F,n("div",A,[l(G,{grid:{gutter:16,column:4},"data-source":f.file_list},{renderItem:d((({item:e})=>[l(E,{onClick:s=>h.openDirectry(e.id)},{default:d((()=>[l(q,{title:e.content},{default:d((()=>[l(j,{type:"link"},{default:d((()=>[m(" 打开 ")])),_:1})])),_:2},1032,["title"])])),_:2},1032,["onClick"])])),_:1},8,["data-source"])]),H,n("div",I,[l(J,{name:"file",multiple:!0,action:f.action_url,onChange:h.handleFileChange},{default:d((()=>[U,V,B])),_:1},8,["action","onChange"])]),z])}],["__scopeId","data-v-75a92c30"]]);export{R as default};
