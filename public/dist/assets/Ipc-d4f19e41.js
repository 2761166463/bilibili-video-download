/* empty css              *//* empty css              *//* empty css              */import{i as n,s}from"./main-1ad2265a.js";import{i as e}from"./ipcRenderer-5e19eaee.js";import{_ as i,o,b as a,i as l,a as d,w as t,l as c,g,t as m,p,h as u,B as k}from"./index-824bee01.js";const r={data:()=>({messageString:"",message1:"",message2:"",message3:"",mainWCid:0}),mounted(){this.init()},methods:{init(){e.removeAllListeners(n.ipcSendMsg),e.on(n.ipcSendMsg,((s,e)=>{this.messageString=e,s.sender.send(n.hello,"electron-egg")})),e.removeAllListeners(s.window1ToWindow2),e.on(s.window1ToWindow2,((n,s)=>{this.$message.info(s)}))},sendMsgStart(){e.send(n.ipcSendMsg,{type:"start",content:"开始"})},sendMsgStop(){e.send(n.ipcSendMsg,{type:"end",content:""})},handleInvoke(){e.invoke(n.ipcInvokeMsg,"异步-回调").then((n=>{this.message1=n}))},async handleInvoke2(){const s=await e.invoke(n.ipcInvokeMsg,"异步");this.message2=s},handleSendSync(){const s=e.sendSync(n.ipcSendSyncMsg,"同步");this.message3=s},sendTosubWindow(){e.invoke(n.getWCid,"main").then((n=>{this.mainWCid=n,e.sendTo(this.mainWCid,s.window2ToWindow1,"窗口2 通过 sendTo 给主窗口发送消息")}))}}},v=n=>(p("data-v-52ceb6b0"),n=n(),u(),n),h={id:"app-base-subwindow-ipc"},S=v((()=>l("div",{class:"one-block-1"},[l("span",null," 1. 发送异步消息 ")],-1))),b={class:"one-block-2"},f=v((()=>l("p",null,null,-1))),w=v((()=>l("div",{class:"one-block-1"},[l("span",null," 2. 同步消息（不推荐，阻塞执行） ")],-1))),C={class:"one-block-2"},_=v((()=>l("div",{class:"one-block-1"},[l("span",null," 3. 长消息： 服务端持续向前端页面发消息 ")],-1))),M={class:"one-block-2"},W=v((()=>l("div",{class:"one-block-1"},[l("span",null," 4. 多窗口通信：窗口之间互相通信 ")],-1))),y={class:"one-block-2"};const I=i(r,[["render",function(n,s,e,i,p,u){const r=k,v=c;return o(),a("div",h,[S,l("div",b,[d(v,null,{default:t((()=>[d(r,{onClick:u.handleInvoke},{default:t((()=>[g("发送 - 回调")])),_:1},8,["onClick"]),g(" 结果："+m(p.message1),1)])),_:1}),f,d(v,null,{default:t((()=>[d(r,{onClick:u.handleInvoke2},{default:t((()=>[g("发送 - async/await")])),_:1},8,["onClick"]),g(" 结果："+m(p.message2),1)])),_:1})]),w,l("div",C,[d(v,null,{default:t((()=>[d(r,{onClick:u.handleSendSync},{default:t((()=>[g("同步消息")])),_:1},8,["onClick"]),g(" 结果："+m(p.message3),1)])),_:1})]),_,l("div",M,[d(v,null,{default:t((()=>[d(r,{onClick:u.sendMsgStart},{default:t((()=>[g("开始")])),_:1},8,["onClick"]),d(r,{onClick:u.sendMsgStop},{default:t((()=>[g("结束")])),_:1},8,["onClick"]),g(" 结果："+m(p.messageString),1)])),_:1})]),W,l("div",y,[d(v,null,{default:t((()=>[d(r,{onClick:s[0]||(s[0]=n=>u.sendTosubWindow())},{default:t((()=>[g("向主窗口发消息")])),_:1})])),_:1})])])}],["__scopeId","data-v-52ceb6b0"]]);export{I as default};
