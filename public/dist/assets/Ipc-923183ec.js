/* empty css              *//* empty css              *//* empty css              */import{i as e,s}from"./main-1ad2265a.js";import{i as n}from"./ipcRenderer-5e19eaee.js";import{_ as o,o as i,b as a,i as l,a as d,w as t,l as c,g,t as r,p as m,h as p,B as u}from"./index-c35ca83b.js";const k={data:()=>({messageString:"",message1:"",message2:"",message3:"",mainWCid:0}),mounted(){this.init()},methods:{init(){n.removeAllListeners(e.ipcSendMsg),n.on(e.ipcSendMsg,((s,n)=>{console.log("[ipcRenderer] [socketMsgStart] result:",n),this.messageString=n,s.sender.send(e.hello,"electron-egg")})),n.removeAllListeners(s.window1ToWindow2),n.on(s.window1ToWindow2,((e,s)=>{this.$message.info(s)}))},sendMsgStart(){n.send(e.ipcSendMsg,{type:"start",content:"开始"})},sendMsgStop(){n.send(e.ipcSendMsg,{type:"end",content:""})},handleInvoke(){n.invoke(e.ipcInvokeMsg,"异步-回调").then((e=>{console.log("r:",e),this.message1=e}))},async handleInvoke2(){const s=await n.invoke(e.ipcInvokeMsg,"异步");console.log("msg:",s),this.message2=s},handleSendSync(){const s=n.sendSync(e.ipcSendSyncMsg,"同步");this.message3=s},sendTosubWindow(){n.invoke(e.getWCid,"main").then((e=>{this.mainWCid=e,n.sendTo(this.mainWCid,s.window2ToWindow1,"窗口2 通过 sendTo 给主窗口发送消息")}))}}},v=e=>(m("data-v-52ceb6b0"),e=e(),p(),e),h={id:"app-base-subwindow-ipc"},S=v((()=>l("div",{class:"one-block-1"},[l("span",null," 1. 发送异步消息 ")],-1))),b={class:"one-block-2"},f=v((()=>l("p",null,null,-1))),w=v((()=>l("div",{class:"one-block-1"},[l("span",null," 2. 同步消息（不推荐，阻塞执行） ")],-1))),C={class:"one-block-2"},_=v((()=>l("div",{class:"one-block-1"},[l("span",null," 3. 长消息： 服务端持续向前端页面发消息 ")],-1))),M={class:"one-block-2"},W=v((()=>l("div",{class:"one-block-1"},[l("span",null," 4. 多窗口通信：窗口之间互相通信 ")],-1))),y={class:"one-block-2"};const I=o(k,[["render",function(e,s,n,o,m,p){const k=u,v=c;return i(),a("div",h,[S,l("div",b,[d(v,null,{default:t((()=>[d(k,{onClick:p.handleInvoke},{default:t((()=>[g("发送 - 回调")])),_:1},8,["onClick"]),g(" 结果："+r(m.message1),1)])),_:1}),f,d(v,null,{default:t((()=>[d(k,{onClick:p.handleInvoke2},{default:t((()=>[g("发送 - async/await")])),_:1},8,["onClick"]),g(" 结果："+r(m.message2),1)])),_:1})]),w,l("div",C,[d(v,null,{default:t((()=>[d(k,{onClick:p.handleSendSync},{default:t((()=>[g("同步消息")])),_:1},8,["onClick"]),g(" 结果："+r(m.message3),1)])),_:1})]),_,l("div",M,[d(v,null,{default:t((()=>[d(k,{onClick:p.sendMsgStart},{default:t((()=>[g("开始")])),_:1},8,["onClick"]),d(k,{onClick:p.sendMsgStop},{default:t((()=>[g("结束")])),_:1},8,["onClick"]),g(" 结果："+r(m.messageString),1)])),_:1})]),W,l("div",y,[d(v,null,{default:t((()=>[d(k,{onClick:s[0]||(s[0]=e=>p.sendTosubWindow())},{default:t((()=>[g("向主窗口发消息")])),_:1})])),_:1})])])}],["__scopeId","data-v-52ceb6b0"]]);export{I as default};
