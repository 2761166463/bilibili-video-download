/* empty css              *//* empty css              *//* empty css              */import{i as e,s as n}from"./main-1ad2265a.js";import{i as s}from"./ipcRenderer-5e19eaee.js";import{_ as o,k as i,o as a,b as d,i as l,a as t,w as c,l as w,g,t as r,p,h as k,B as u}from"./index-c35ca83b.js";const m={data:()=>({messageString:"",message1:"",message2:"",message3:"",windowName:"window-ipc",newWcId:0,views:[{type:"vue",content:"#/special/subwindow",windowName:"window-ipc",windowTitle:"ipc window"}]}),mounted(){this.init()},methods:{init(){s.removeAllListeners(e.ipcSendMsg),s.on(e.ipcSendMsg,((n,s)=>{console.log("[ipcRenderer] [socketMsgStart] result:",s),this.messageString=s,n.sender.send(e.hello,"electron-egg")})),s.removeAllListeners(n.window2ToWindow1),s.on(n.window2ToWindow1,((e,n)=>{this.$message.info(n)}))},sendMsgStart(){s.send(e.ipcSendMsg,{type:"start",content:"开始"})},sendMsgStop(){s.send(e.ipcSendMsg,{type:"end",content:""})},handleInvoke(){s.invoke(e.ipcInvokeMsg,"异步-回调").then((e=>{console.log("r:",e),this.message1=e}))},async handleInvoke2(){const n=await s.invoke(e.ipcInvokeMsg,"异步");console.log("msg:",n),this.message2=n},handleSendSync(){const n=s.sendSync(e.ipcSendSyncMsg,"同步");this.message3=n},createWindow(n){s.invoke(e.createWindow,i(this.views[n])).then((e=>{console.log("[createWindow] id:",e)}))},async sendTosubWindow(){this.newWcId=await s.invoke(e.getWCid,this.windowName),s.sendTo(this.newWcId,n.window1ToWindow2,"窗口1通过 sendTo 给窗口2发送消息")}}},v=e=>(p("data-v-b32a4f18"),e=e(),k(),e),h={id:"app-base-socket-ipc"},f=v((()=>l("div",{class:"one-block-1"},[l("span",null," 1. 发送异步消息 ")],-1))),S={class:"one-block-2"},b=v((()=>l("p",null,null,-1))),_=v((()=>l("div",{class:"one-block-1"},[l("span",null," 2. 同步消息（不推荐，阻塞执行） ")],-1))),C={class:"one-block-2"},W=v((()=>l("div",{class:"one-block-1"},[l("span",null," 3. 长消息： 服务端持续向前端页面发消息 ")],-1))),M={class:"one-block-2"},y=v((()=>l("div",{class:"one-block-1"},[l("span",null," 4. 多窗口通信：子窗口与主进程通信，子窗口互相通信 ")],-1))),I={class:"one-block-2"};const T=o(m,[["render",function(e,n,s,o,i,p){const k=u,m=w;return a(),d("div",h,[f,l("div",S,[t(m,null,{default:c((()=>[t(k,{onClick:p.handleInvoke},{default:c((()=>[g("发送 - 回调")])),_:1},8,["onClick"]),g(" 结果："+r(i.message1),1)])),_:1}),b,t(m,null,{default:c((()=>[t(k,{onClick:p.handleInvoke2},{default:c((()=>[g("发送 - async/await")])),_:1},8,["onClick"]),g(" 结果："+r(i.message2),1)])),_:1})]),_,l("div",C,[t(m,null,{default:c((()=>[t(k,{onClick:p.handleSendSync},{default:c((()=>[g("同步消息")])),_:1},8,["onClick"]),g(" 结果："+r(i.message3),1)])),_:1})]),W,l("div",M,[t(m,null,{default:c((()=>[t(k,{onClick:p.sendMsgStart},{default:c((()=>[g("开始")])),_:1},8,["onClick"]),t(k,{onClick:p.sendMsgStop},{default:c((()=>[g("结束")])),_:1},8,["onClick"]),g(" 结果："+r(i.messageString),1)])),_:1})]),y,l("div",I,[t(m,null,{default:c((()=>[t(k,{onClick:n[0]||(n[0]=e=>p.createWindow(0))},{default:c((()=>[g("打开新窗口2")])),_:1}),t(k,{onClick:n[1]||(n[1]=e=>p.sendTosubWindow())},{default:c((()=>[g("向新窗口2发消息")])),_:1})])),_:1})])])}],["__scopeId","data-v-b32a4f18"]]);export{T as default};
